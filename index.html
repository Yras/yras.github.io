<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
</head>
<body onload="change(0);" style="text-align:center;">
    <div style="width: 800px;align:center; text-align:center">
    
    <style>
        table, td, th {
            text-align:center;
        }
    </style>
           <script>
               
               function calc_win(rating)
               {
                   var v_totalwin=document.getElementById("totalwin").value;
                   var v_rating=document.getElementById("rating").value;
                   var v_ecr=document.getElementById("ecr").value;
                   var v_bonus=document.getElementById("bonus").value;
                   x=v_totalwin/v_ecr*100/(1+v_bonus/100)*rating/v_rating*rating/v_rating*rating/v_rating ;
                    return +x.toFixed(3);
               }
               
                function change(value){
                   var v_totalwin=document.getElementById("totalwin").value;
                   var v_rating=document.getElementById("rating").value;
                   var v_ecr=document.getElementById("ecr").value;
                   var v_bonus=document.getElementById("bonus").value;
                  document.getElementById("basewin").value=v_totalwin/v_ecr*100/(1+v_bonus/100)*1000/v_rating*1000/v_rating*1000/v_rating;
                  document.getElementById("r0").innerHTML=calc_win(0) ;
                  document.getElementById("r400").innerHTML=calc_win(400) ;
                  document.getElementById("r700").innerHTML=calc_win(700) ;
                  document.getElementById("r999").innerHTML=calc_win(999) ;
                  document.getElementById("r1000").innerHTML=calc_win(1000) ;
                  document.getElementById("r1300").innerHTML=calc_win(1300) ;
                  document.getElementById("r1600").innerHTML=calc_win(1600) ;
                  document.getElementById("r1899").innerHTML=calc_win(1899) ;
                  document.getElementById("r1900").innerHTML=calc_win(1900) ;
                  document.getElementById("r2200").innerHTML=calc_win(2200) ;
                  document.getElementById("r2500").innerHTML=calc_win(2500) ;
                  document.getElementById("r2799").innerHTML=calc_win(2799) ;
                }
          
       </script>
 
    
    <p>Splinterlands WinPrize calculator</p>
    <p> <img src="splwin.png" width="400"/> </p>
     Warning: your rating value is limited by your league <br>                                          
        
        Enter Values from your battle to calculate
   <table align="center">
        <tbody>
            <tr>
                <td>
                    <table style="width: 500px; border="1" align="center">
                        <tbody>
                            <tr>
                                <td style="width: 228px;">Total win;</td>
                                <td style="width: 228px;"><input id="totalwin" type="text" value="2.809"  minlength="0" maxlength="8" size="10"/></td>
                            </tr>
                            <tr>
                                <td>Rating</td>
                                <td><input id="rating" type="text" value="920"  minlength="0" maxlength="8" size="10"/></td>
                            </tr>
                            <tr>
                                <td>Ecr</td>
                                <td><input id="ecr" type="text" value="88.67" minlength="0" maxlength="8" size="10" />%</td>
                            </tr>
                            <tr>
                                <td>Total Bonuses</td>
                                <td><input id="bonus" type="text" value="6"  minlength="0" maxlength="8" size="10"/>%</td>
                            </tr>
                            <tr>
                                <td>Base Win</td>
                                <td><input id="basewin" type="text" value="3.7663884"  minlength="0" maxlength="8" size="10"/></td>
                            </tr>
                        </tbody>
                    </table>
                </td>
                <td></td>
            </tr>
        </tbody>
    </table>
    <button type="button" onclick="change(1);"> Calculate </button>
    <p>&nbsp;</p>
      <table style="width: 500px;align:center;"  text-align='center' border="1"  align="center">
                        <tbody>
                            <tr style="background-color:lightgray">
                                <td>Novice</td>
                                <td></td>
                                <td>Bronze II</td>
                                <td>Bronze I</td>
                            </tr>
                            <tr>
                                <td>0</td>
                                <td>400</td>
                                <td>700</td>
                                <td>1000</td>
                            </tr>
                            <tr>
                                <td id="r0" style="color:#c41ce6">0</td>
                                <td id="r400" style="color:#c41ce6"></td>
                                <td id="r700" style="color:#c41ce6"></td>
                                <td id="r999" style="color:#c41ce6"></td>
                            </tr>
                            <tr style="background-color:lightgray">
                                <td style="width: 50px;"></td>
                                <td style="width: 100px;">Sivler III</td>
                                <td style="width: 100px;">Sivler II</td>
                                <td style="width: 100px;">Sivler I</td>
                            </tr>
                            <tr>
                                <td style="width: 100px;">1000</td>
                                <td style="width: 100px;">1300</td>
                                <td style="width: 100px;">1600</td>
                                <td style="width: 100px;">1899</td>
                            </tr>
                            <tr>
                                <td id="r1000" style="color:#c41ce6">0</td>
                                <td id="r1300" style="color:#c41ce6"></td>
                                <td id="r1600" style="color:#c41ce6"></td>
                                <td id="r1899" style="color:#c41ce6"></td>
                            </tr>
                            <tr style="background-color:lightgray">
                                <td></td>
                                <td>Gold III</td>
                                <td>Gold II</td>
                                <td>Gold I</td>
                            </tr>
                            <tr>
                                <td>1900</td>
                                <td>2200</td>
                                <td>2500</td>
                                <td>2799</td>
                            </tr>
                            <tr>
                                <td id="r1900" style="color:#c41ce6">0</td>
                                <td id="r2200" style="color:#c41ce6"></td>
                                <td id="r2500" style="color:#c41ce6"></td>
                                <td id="r2799" style="color:#c41ce6"></td>
                            </tr>
                            </tbody>
          </table>
    
    </div>
</body>
</body>
</html>
